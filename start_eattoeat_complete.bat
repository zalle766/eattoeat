@echo off
echo ========================================
echo    ุจุฏุก ูุธุงู Eat to Eat - ุชุณุฌูู ุงููุณุชุฎุฏู
echo ========================================
echo.

echo [1/5] ูุญุต Node.js...
node --version >nul 2>&1
if %errorlevel% neq 0 (
    echo โ Node.js ุบูุฑ ูุซุจุช
    echo ูุฑุฌู ุชุซุจูุช Node.js ูู https://nodejs.org/
    pause
    exit /b 1
) else (
    echo โ Node.js ูุซุจุช
)

echo.
echo [2/5] ุชุซุจูุช ุชุจุนูุงุช ุงูุฎุงุฏู ุงูุฎููู...
cd backend
if not exist node_modules (
    echo ุชุซุจูุช ุชุจุนูุงุช ุงูุฎุงุฏู ุงูุฎููู...
    npm install
    if %errorlevel% neq 0 (
        echo โ ูุดู ูู ุชุซุจูุช ุชุจุนูุงุช ุงูุฎุงุฏู ุงูุฎููู
        pause
        exit /b 1
    )
) else (
    echo โ ุชุจุนูุงุช ุงูุฎุงุฏู ุงูุฎููู ูุซุจุชุฉ
)

echo.
echo [3/5] ุชุซุจูุช ุชุจุนูุงุช ุงููุงุฌูุฉ ุงูุฃูุงููุฉ...
cd ..\frontend
if not exist node_modules (
    echo ุชุซุจูุช ุชุจุนูุงุช ุงููุงุฌูุฉ ุงูุฃูุงููุฉ...
    npm install
    if %errorlevel% neq 0 (
        echo โ ูุดู ูู ุชุซุจูุช ุชุจุนูุงุช ุงููุงุฌูุฉ ุงูุฃูุงููุฉ
        pause
        exit /b 1
    )
) else (
    echo โ ุชุจุนูุงุช ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ูุซุจุชุฉ
)

echo.
echo [4/5] ุจุฏุก ุงูุฎุงุฏู ุงูุฎููู...
cd ..\backend
start "Eat to Eat Backend" cmd /k "echo ุจุฏุก ุงูุฎุงุฏู ุงูุฎููู... && npm start"

echo ุงูุชุธุงุฑ ุจุฏุก ุงูุฎุงุฏู ุงูุฎููู...
timeout /t 5 /nobreak >nul

echo.
echo [5/5] ุจุฏุก ุงููุงุฌูุฉ ุงูุฃูุงููุฉ...
cd ..\frontend
start "Eat to Eat Frontend" cmd /k "echo ุจุฏุก ุงููุงุฌูุฉ ุงูุฃูุงููุฉ... && npm run dev"

echo ุงูุชุธุงุฑ ุจุฏุก ุงููุงุฌูุฉ ุงูุฃูุงููุฉ...
timeout /t 8 /nobreak >nul

echo.
echo ========================================
echo           ุชู ุจุฏุก ุงููุธุงู ุจูุฌุงุญ!
echo ========================================
echo.
echo โ ุงูุฎุงุฏู ุงูุฎููู: http://localhost:5000
echo โ ุงููุงุฌูุฉ ุงูุฃูุงููุฉ: http://localhost:5173
echo โ ุตูุญุฉ ุงูุชุณุฌูู: http://localhost:5173/user/register
echo โ ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู: http://localhost:5173/user/login
echo.
echo ุงูููุฒุงุช ุงููุชุงุญุฉ:
echo - ูููุฐุฌ ุชุณุฌูู ูุชุนุฏุฏ ุงูุฎุทูุงุช
echo - ุชุญุฏูุฏ ุงููููุน ุงูุชููุงุฆู
echo - ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
echo - ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุจุงููุบุฉ ุงูุนุฑุจูุฉ
echo - ุชุตููู ุฌููู ููุชุฌุงูุจ
echo.
echo ุณูุชู ูุชุญ ุตูุญุฉ ุงูุชุณุฌูู ุงูุขู...
timeout /t 3 /nobreak >nul
start http://localhost:5173/user/register

echo.
echo ๐ ุงุณุชูุชุน ุจุงุณุชุฎุฏุงู Eat to Eat!
echo.
echo ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงููุ ุชุญูู ูู:
echo 1. ุฃู MySQL ูุนูู
echo 2. ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช eattoeat ููุฌูุฏุฉ
echo 3. ุฃู ุงูููุงูุฐ 5000 ู 5173 ูุชุงุญุฉ
echo.
pause




